# Java内存区域与内存溢出异常

## **2.1 概述**

> Java与C++之间有一堵由**内存分配**和**垃圾收集**技术所围成的高墙，墙外的人想进来，墙里面的人想出来。

## **2.2 Java运行时数据区**

![Java运行时数据区](https://cdn.jsdelivr.net/gh/Clarencezero/poi/运行时数据区域.png)

### 2.2.1 程序计数器

**程序计数器（Program Counter Register）:** 是一块儿较小的空间，用来指示当前线程所执行字节码

的行号**。**字节码解释器:工作时就是通过改变这个计数器的值来选定下一条需要执行的字节码指令，**分支、**

**环、跳转、异常处理**、**线程恢复** 等基础功能都需要依赖这个计数器来完成。**Java虚拟机的多线程是通过线程**

**轮流切换并分配处理器执行时间的方式来实现的**。在任一时刻，一个处理器（对于多核处理器来说，就是一

个内核）只会执行一条线程中的指令。因此，为了能够**恢复线程切换之前的线程状态到正确位置**，每条线程都需

有一个独立的程序计数器，各条线程之间互不影响，独立存储，我们称这类内存区域为**“线程私有”**的内存。如果

程正在执行的是一个Java方法，这个计数器记录的是正在执行虚拟机字节码指令的地址；如果正在执行的是一

Native方法，这个计数器则是为空（Undefined）。 此内存区域是唯一一个在Java虚拟机规范中没有规定任

OutOfMemoryError情况的区域。